---
import Base from '../components/Base.astro'
import BlogLayout from '../components/BlogLayout.astro'
import { CaretLeft } from 'phosphor-react'
import { allBlogPosts } from '../lib/posts'

const posts =
  (await allBlogPosts(
    await Astro.glob('../content/posts/**/*.md'),
    await Astro.glob('../content/posts/ghost.json')
  ))
    .filter(post => post.technical === true)
---

<Base title="Ben Borgersâ€™ Blog" bg="bg-zinc-50">
<BlogLayout>
  <div class="mb-6">
    <a href="/"
      class="flex items-center gap-1.5 bg-rose-600 text-sm font-semibold text-white px-2.5 py-0.5 rounded-full max-w-max">
      <CaretLeft weight="bold" className="[&_polyline]:[stroke-width:36]" />
      <span>Ben Borgers</span>
    </a>
  </div>
  <div class="space-y-2">

    {posts.map(post => (
    <div class="flex justify-between">
      <a href={`/posts/${post.slug}`} class="block underline decoration-zinc-300">
        {post.title}
      </a>
      <p class="text-zinc-400">
        {post.date.toFormat('LLLL d')}
      </p>
    </div>
    ))}
  </div>
</BlogLayout>
</Base>
