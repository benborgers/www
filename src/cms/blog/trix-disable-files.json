{
  "published": true,
  "date": "2020-05-03T00:00:00.000Z",
  "title": "Disabling file uploads with the Trix editor",
  "slug": "trix-disable-files",
  "description": "Just add CSS that hides the file upload button, and then add javascript code that prevents new files from being dragged in.",
  "body": "Basecamp's [Trix](https://trix-editor.org) text editor lets people upload their own files into the text they're writing, but maybe you don't want to deal with file uploads at the moment. \n\nTo disable file uploads, first remove the \"file\" button (it looks like a paperclip) using CSS:\n\n```css\ntrix-toolbar [data-trix-button-group=\"file-tools\"] {\n  display: none;\n}\n```\n\nThis removes the button, but it doesn't stop people from dragging files in. For that, add this javascript that ignores file uploads whenever one is attempted: \n\n```jsx\ndocument.addEventListener(\"trix-file-accept\", event => {\n  event.preventDefault()\n})\n```"
}