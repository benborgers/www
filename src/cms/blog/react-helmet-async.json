{
  "published": true,
  "date": "2019-12-12T00:00:00.000Z",
  "title": "How to fix \"componentWillMount has been renamed\"",
  "slug": "react-helmet-async",
  "description": "If you're getting the warning, \"componentWillMount has been renamed, and is not recommended for use\" in React, the culprit may be the \"react-helmet\" package. You can easily fix the warning by replacing \"react-helmet\" with another package, \"react-helmet-async\".",
  "body": "I was using the [react-helmet](https://npm.im/react-helmet) package, and noticed an error in my console saying:\n\n> Warning: componentWillMount has been renamed, and is not recommended for use. See https://fb.me/react-async-component-lifecycle-hooks for details.\n\nTurns out, in React 17 (the next version of React), the `componentWillMount` method will no longer work. `react-helmet` relies on this method, and therefore there's a warning when you try to use `componentWillMount` in React 16.9+.\n\n## Solution\n\nThere's a virtually identical package called [react-helmet-async](https://npm.im/react-helmet-async), which doesn't have this error and will continue working through React 17. \n\nInstalling and replacing `react-helmet` with `react-helmet-async` everywhere in my code got rid of the warning for me.\n\nTo install, run: \n\n```bash\nnpm install react-helmet-async\n```\n\nAnd then use the new package just as you would use `react-helmet`:\n\n```javascript\nimport { Helmet } from \"react-helmet-async\"\n\n// ... etc\n```\n\n## Solving it in Gatsby\n\nIf your site is built with [Gatsby](https://gatsbyjs.org/), you're probably currently using [gatsby-plugin-react-helmet](https://www.gatsbyjs.org/packages/gatsby-plugin-react-helmet/). You'll need to replace this plugin with [@rhysforyou/gatsby-plugin-react-helmet-async](https://www.gatsbyjs.org/packages/@rhysforyou/gatsby-plugin-react-helmet-async)."
}